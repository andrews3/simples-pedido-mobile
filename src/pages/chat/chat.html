<ion-header>
  <ion-navbar color="primary">
    <ion-title>
      {{getNomeDestinatario()}}
    </ion-title>
  </ion-navbar>
</ion-header>


<ion-content style="background-color: lightgray">
  <div class="lista-chat" id="list">
    <ion-row *ngFor="let mensagem of mensagens">
      <ion-col style="padding: 0">
        <!--MENSAGEM TEXTO-->
        <ion-card class="mensagem"
                  [ngClass]="{'mensagem-mine': isMinhaMensagem(mensagem), 'last-mensagem-mine': isLastMensagemMine(mensagem)}">
          <div style="padding-bottom: 6px; padding-right: 6px; padding-left: 6px" class="text-padding">
            {{mensagem.texto}}
          </div>
          <div *ngIf="mensagem.timestamp"
               style="font-size: 9px; color: lightgrey; float: right; margin-right: 5px; margin-top: -6px; margin-bottom: 3px"
               [ngClass]="{'font-white': isMinhaMensagem(mensagem)}">
            {{getMensagemHora(mensagem)}}
          </div>
          <div *ngIf="!mensagem.timestamp && isMinhaMensagem(mensagem)"
               style="float: right; margin-right: 5px; margin-top: -10px; margin-bottom: 3px">
            <ion-spinner style="height: 10px; width: 10px" color="light">
            </ion-spinner>
          </div>
        </ion-card>
      </ion-col>
    </ion-row>
  </div>
  <form>
    <ion-row style="height: 52px; width: 100%; margin-top: 5px">
      <ion-col style="padding: 0">
        <ion-card
          style="border-radius: 45px; width:calc(100% - 10px); height: 45px; margin-left: 5px; margin-bottom: 5px; margin-top: 0; margin-right: 5px">
          <ion-item text-wrap no-border no-lines>
            <ion-input placeholder="Digite aqui..." text-wrap
                       style="max-height: 100px;margin-right: 5px;outline: none; position: relative;white-space: pre-wrap; word-wrap: break-word"
                       [ngModelOptions]="{standalone: true}"
                       [(ngModel)]="mensagem"></ion-input>
            <!--<label style="padding-left:10px" for="upload-file" ion-button item-end icon-only clear>-->
            <!--<ion-icon name="attach" color="primary"></ion-icon>-->
            <!--</label>-->
            <!--<input type="file" style="opacity: 0; position: absolute; z-index: -1" item-end id="upload-file"-->
            <!--(change)="uploadFile($event)">-->
          </ion-item>
        </ion-card>
      </ion-col>
      <button ion-fab mini color="primary"
              style="height: 45px; width: 45px; margin-left: 0; margin-top: 0; margin-bottom: 5px; margin-right: 5px"
              (click)="enviaMensagem()">
        <ion-icon name="send"></ion-icon>
      </button>
    </ion-row>
  </form>
</ion-content>
